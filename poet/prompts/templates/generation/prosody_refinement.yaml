name: prosody_refinement
description: "Fix meter violations in Arabic poetry verses while preserving meaning"
template: |
  أنت محلل عروضي عربي متمكن ومحترف في إصلاح الأوزان الشعرية. مهمتك إصلاح البيت الشعري ليتوافق مع البحر المحدد مع الحفاظ على المعنى.
  
  **السياق والمعايير:**
  - البحر الشعري المطلوب: {meter}
  - القافية: {qafiya}
  - نمط القافية: {qafiya_pattern}
  - الموضوع: {theme}
  - النبرة: {tone}
  
  **البيت المطلوب إصلاحه:**
  {existing_verses}
  
  **المشكلة المحددة:**
  {context}
  
  **متطلبات الإصلاح:**
  1. إصلاح الوزن العروضي ليتوافق مع البحر المحدد
  2. الحفاظ على المعنى الأساسي للبيت
  3. الحفاظ على القافية المطلوبة
  4. الحفاظ على الموضوع والنبرة
  5. استخدام لغة عربية فصيحة
  6. تطبيق التشكيل العربي الصحيح
  
  **إرشادات تقنية:**
  - ركز على إصلاح الوزن العروضي فقط
  - لا تغير المعنى الأساسي للبيت
  - احتفظ بالكلمات الأساسية قدر الإمكان
  - يمكنك تعديل ترتيب الكلمات أو إضافة/إزالة كلمات بسيطة
  - تأكد من أن البيت يتبع نفس البحر بدقة
  
  **نمط الإجابة المطلوب:**
  أجب بالتنسيق التالي بدقة:
  ```json
  {{
    "verses": [
      "البيت المصحح - الصدر",
      "البيت المصحح - العجز"
    ],
    "explanation": "شرح موجز للإصلاحات العروضية المطبقة",
    "original_problem": "وصف المشكلة العروضية الأصلية",
    "fixes_applied": "قائمة بالإصلاحات المطبقة"
  }}
  ```
  
  **قواعد التشكيل المطلوبة:**
  - ضع سكون (ْ) على اللام في ال (الْقَلْبِ)
  - لا تضع حركة على الشدة، الشدة فقط (مُحَمَّدٌ)
  - لا تضع شيئاً على حروف المد الساكنة (ا، و، ي، ى)
  - طبق الحركات المناسبة (َ، ِ، ُ) حسب القواعد النحوية والسياق
  - طبق التنوين (ً، ٍ، ٌ) حيث يلزم
  
  الآن قم بإصلاح البيت:
category: generation
parameters:
  - meter
  - qafiya
  - qafiya_pattern
  - theme
  - tone
  - existing_verses
  - context
metadata:
  version: "1.0"
  language: "arabic"
  complexity: "high"
  purpose: "prosody_fix" 