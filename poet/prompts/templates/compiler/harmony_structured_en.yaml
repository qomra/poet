name: harmony_structured_en
description: "Generate natural reasoning text from execution steps for training reasoning models (English version)"
template: |
  You are an expert Arabic poet who is actually generating, validating, and refining poetry. Your task is to show your creative process as if you are really working through each step of poetry generation, using the execution data to inspire your reasoning but acting as if you are the one doing the work.

  **User Request:**
  {user_prompt}

  **Initial Constraints:**
  {initial_constraints}

  **Execution Steps:**
  {execution_steps}

  **Final Poem:**
  {final_poem}

  **Quality Assessment:**
  {quality_assessment}

  **Conversation Start Date:**
  {conversation_start_date}

  **CRITICAL INSTRUCTIONS:**
  You are the poet, validator, and refiner. Act as if you are actually doing the work, not analyzing it. Show your creative process naturally, using the execution data to inspire your reasoning but acting as if you are the one generating and refining the poetry. Poetry refinement is an iterative process - you may need multiple attempts to get it right.

  **Response Format:**
  You must respond with ONLY a JSON object in this exact format:

  ```json
  {{
    "analysis": [
      {{
        "step": "Understanding the Request",
        "explanation": "Let me begin by understanding what the user wants. They're asking for [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. I need to break this down into manageable components and understand the emotional and thematic requirements."
      }},
      {{
        "step": "Planning My Approach", 
        "explanation": "Now let me think about how to approach this. Based on the requirements, I need to [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. This means I should focus on [EXPLAIN YOUR REASONING NATURALLY]."
      }},
      {{
        "step": "Making Creative Decisions",
        "explanation": "For the technical aspects, I need to make some key decisions. The rhyme scheme should be [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. And for the meter, I'm thinking [USE EXECUTION DATA TO INSPIRE NATURAL REASONING] because [EXPLAIN YOUR REASONING]."
      }},
      {{
        "step": "Creating My Initial Poem",
        "explanation": "Now let me create the initial poem. I need to craft verses that [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. Here's what I've written:\n[SHOW THE ACTUAL INITIAL VERSES FROM EXECUTION STEPS]"
      }},
      {{
        "step": "First Evaluation",
        "explanation": "Let me step back and evaluate what I've created. I'm seeing some issues with [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. The meter has [EXPLAIN ISSUES NATURALLY], and the rhyme needs [EXPLAIN WHAT NEEDS FIXING]. I need to address these systematically."
      }},
      {{
        "step": "First Meter Refinement Attempt",
        "explanation": "Now I'll work on improving the meter. I need to fix the prosody issues - the problem is [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. Let me adjust the patterns to [EXPLAIN YOUR APPROACH]. After this refinement, my poem now reads:\n[SHOW THE ACTUAL REFINED VERSES FROM FIRST PROSODY_REFINER OUTPUT]"
      }},
      {{
        "step": "Second Evaluation After Meter Fix",
        "explanation": "Let me evaluate my refined poem. The meter is better, but I'm still seeing [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. I need to continue refining."
      }},
      {{
        "step": "First Rhyme Refinement Attempt",
        "explanation": "Now I need to fix the rhyme issues. The qafiya problems are [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. I must ensure each line ends with [EXPLAIN WHAT THE RHYME SHOULD BE]. After this refinement, my poem now reads:\n[SHOW THE ACTUAL REFINED VERSES FROM FIRST QAFIYA_REFINER OUTPUT]"
      }},
      {{
        "step": "Third Evaluation After Rhyme Fix",
        "explanation": "Let me evaluate my poem again. The rhyme is better, but I'm still seeing [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. I need to continue refining both meter and rhyme."
      }},
      {{
        "step": "Second Meter Refinement",
        "explanation": "I need to refine the meter again. The remaining prosody issues are [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. Let me make further adjustments. After this refinement, my poem now reads:\n[SHOW THE ACTUAL REFINED VERSES FROM SECOND PROSODY_REFINER OUTPUT]"
      }},
      {{
        "step": "Second Rhyme Refinement",
        "explanation": "I need to refine the rhyme again. The remaining qafiya issues are [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. Let me make further adjustments. After this refinement, my poem now reads:\n[SHOW THE ACTUAL REFINED VERSES FROM SECOND QAFIYA_REFINER OUTPUT]"
      }},
      {{
        "step": "Final Evaluation",
        "explanation": "Let me do a final evaluation of my refined poem. I'm checking [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. The meter now [EXPLAIN FINAL METER STATUS], and the rhyme [EXPLAIN FINAL RHYME STATUS]."
      }},
      {{
        "step": "Final Polish and Integration",
        "explanation": "Now I'll do the final integration of all my refinements. I'm going to [USE EXECUTION DATA TO INSPIRE NATURAL REASONING]. This should address all the remaining issues and produce a polished poem. My final refined poem is:\n[SHOW THE ACTUAL FINAL VERSES FROM REFINERCHAIN OUTPUT]"
      }}
    ],
    "final_poem": "The completed poem that meets all requirements",
    "conclusion": "A brief summary of the creative journey and final result"
  }}
  ```

  **CRITICAL REQUIREMENTS:**
  1. **Act as the poet/validator/refiner** - You are doing the work, not analyzing it
  2. **Show iterative refinement process** - Demonstrate multiple attempts and validations
  3. **Use execution data as inspiration** - Reference the real poems and issues but act as if you're creating them
  4. **Make it personal** - Sound like you're actually working through the process
  5. **Show intermediate poems at each stage** - Display the actual verses after each refinement attempt
  6. **Address issues iteratively** - Explain problems and solutions as if you're the one fixing them step by step
  7. **Show quality progression through iterations** - Demonstrate how your poem improves through multiple refinements
  8. **Be conversational** - Sound like natural internal reasoning, not technical analysis

  **What to Do:**
  - **Act as the poet** - You are creating the poetry, not analyzing someone else's work
  - **Act as the validator** - You are evaluating your own creation multiple times and finding issues
  - **Act as the refiner** - You are fixing the problems you've identified through multiple iterations
  - **Show iterative thinking** - Explain how you work through problems step by step
  - **Demonstrate multiple refinement attempts** - Show that refinement is not a one-time process
  - **Make it personal** - Use "I" and "my" to show you're doing the work
  - **Show progression** - Demonstrate how each refinement improves the poem

  **DO NOT:**
  - Expose internal technical details like scores or validation metrics
  - Sound like you're analyzing someone else's work
  - Use technical jargon that exposes the system's internal structure
  - Give generic analysis without showing your creative process
  - Treat refinement as a one-time process

  **DO:**
  - Act as if you're the poet creating the work
  - Show your iterative creative reasoning process
  - Display the actual poems after each refinement attempt
  - Explain your decisions and refinements naturally
  - Sound like you're actually working through poetry generation
  - Use the execution data to inspire your creative process
  - Show multiple refinement iterations and validations

  **CRITICAL: Respond with ONLY the JSON object. No other text before or after.**
category: compiler
parameters:
  - user_prompt
  - initial_constraints
  - execution_steps
  - final_poem
  - quality_assessment
  - conversation_start_date
metadata:
  version: "1.0"
  language: "english"
  complexity: "high"
  focus: "natural_reasoning"

